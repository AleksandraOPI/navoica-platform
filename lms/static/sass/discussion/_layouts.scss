// Layouts for discussion pages
@import "utilities/variables-new_look";

div {

}
div {
  .justify-content-between {
    align-items: stretch;
    flex-flow: row wrap;
    justify-content: space-between !important;  
  }
}

@include media-breakpoint-up(md) {
  #content {
    margin: 0 0 $jumbotron-padding-y;
    padding: 3*$font-size-base 0;
  }

  .jumbotron > .container {
    .d-flex {
      align-items: stretch;
      flex-flow: row wrap;
    }
  }
}

// div.justify-content-between {
//   align-items: stretch;
//   flex-flow: row wrap;
//   justify-content: space-between !important;
// }




// @include media-breakpoint-down(sm) {
//   header .jumbotron {
//     p {
//       &.lead {
//         font-size: 1.25 * $font-size-base;
//       }
//     }
//   }

//   .navbar {
//     &-nav {
//       padding: 0 0 .5*$font-size-base;

//       .nav-item {
//         border-top: 1px solid map_get($grays, "300");
//         font-size: $font-size-base;
//         //margin: 0 .5*$font-size-base;
//         margin: 0;
//         // padding: 0;

//         // .nav-link {
//         //   padding: .5*$font-size-base;
//         // }

//         .nav-link.active {
//           // padding: unset;
//           // padding: 12;
//           margin-bottom: -1px;
//           // TODO
//           color: #495057;
//           background-color: #fff;
//           border-color: #dee2e6 #dee2e6 #fff;
//         }

//         .dropdown-item {
//           padding: .5*$font-size-base;
//         }

//         .btn {
//           border: 0;
//           padding: .5*$font-size-base;
//           text-align: left;
//           width: 100%;
//         }
//       }
//     }
//   }
// }



// .discussion-user-profile-board {
//   .discussion-profile-title {
//     margin-bottom: $baseline / 5;
//     font-size: $forum-x-large-font-size;
//   }

//   .discussion-profile-count {
//     margin-top: $baseline / 4;
//   }

//   .discussion-profile-info {
//     @include margin-right($baseline);
//   }

//   .user-name {
//     @include margin-right($baseline);

//     font-size: $forum-x-large-font-size;
//   }

//   .user-roles {
//     font-size: $forum-small-font-size;
//     font-style: italic;
//   }
// }

// .forum-nav {
//   @include media-breakpoint-up(md) {
//     max-width: 300px;
//     width: 25%;
//   }
// }

// .discussion-column {
//   flex-grow: 1;  // This column should consume all the available space
//   margin-bottom: $baseline;

//   @include media-breakpoint-up(md) {
//     @include margin-left($baseline);

//     min-height: 500px;
//     margin-bottom: 0;
//     width: 75%;
//   }

//   .new-post-article {
//     margin-top: -$baseline;
//   }
// }
// #discussion-container {
//   min-height: 400px;

//   .discussion-body {
//     border: 1px solid map_get($grays, "300");
//   }

//   .forum-nav,
//   .discussion-column {
//     padding: 0;

//     header {
//       border-bottom: 1px solid map_get($grays, "300");
//       margin-bottom: $font-size-base;
//       padding-bottom: $font-size-base;

//       > h2 {
//         color: map_get($grays, "900");
//         color: darkcyan;
//         display: block;
//         font-size: $font-size-base;
//         font-weight: $font-weight-bold;
//         letter-spacing: .02em;
//         line-height: 1.7143;
//         margin: $font-size-base 0 0;
//         padding: calc(.25em + 1px) 0;
//         text-transform: uppercase;
//         word-spacing: .04em;

//         font-size: 0.875rem;
//         margin: 0;
//         text-align: left;
//       }
//     }
//   }
//   .forum-nav {
//     align-items: stretch;
//     background: map_get($grays, "100");
//     border: 0;
//     display: flex;
//     flex: 0 0 580px;
//     flex-direction: row;
//     flex-wrap: nowrap;
//     margin-right: 0;

//     .forum-nav-browse-menu {

//       > li {
//         border: 0;
//         margin: 0 0 .5rem;

//       }

//       li {
//         cursor: pointer;
//         font-size: 14px;
//         list-style: none;

//         &::before {
//           color: map_get($grays, "600");
//           content: "\f054";
//           font-family: "Font Awesome 5 Free";
//           font-size: 10px;
//           font-weight: 900;
//           line-height: 2;
//           margin-right: 4px;
//           width: 12px;
//         }

//         ul {
//           padding: 0;
//         }

//         span {
//           color: $red;
//           display: inline-block;
//           font-size: 14px;
//           font-weight: 600;

//         }

//         li {
//           padding-left: 16px;

//           &::before {
//             display: none;
//           }

//           span {
//             display: flex;
//             flex: 1;
//             flex-flow: row nowrap;
//             font-weight: 400;
//             margin-top: 4px;

//             &::before {
//               color: map_get($grays, "600");
//               content: "\f054";
//               flex: 0 0 12px;
//               font-family: "Font Awesome 5 Free";
//               font-size: 10px;
//               font-weight: 900;
//               line-height: 2;
//               margin-right: 4px;
//             }

//           }
//         }

//       }
//     }

//     .discussion-thread-list-container {

//       .forum-nav-thread-list {
//         list-style: none;
//         padding: 0;

//         > li {
//           border-top: 1px solid map_get($grays, "300");
//           font-size: 14px;
//           padding: .5rem 0;

//           &:first-child {
//             border: 0;
//             padding: 0 0 .5rem;
//           }

//           .forum-nav-thread-link {
//             align-items: flex-start;
//             display: flex;
//             flex-flow: row nowrap;
//             justify-content: stretch;

//             div {
//               display: flex;

//               &:nth-child(1) {
//                 flex: 0 0 24px;
//                 margin-top: 4px;
//               }
//               &:nth-child(2) {
//                 display: flex;
//                 flex: 1 1 auto;
//                 flex-flow: column;
//                 max-width: 184px;
//               }
//               &:nth-child(3) {
//                 color: $dark;
//                 display: flex;
//                 flex: 0 0 40px;
//                 font-weight: 400;
//                 justify-content: flex-end;
//                 margin-left: 8px;
//               }

//               .thread-preview-body {
//                 color: $dark;
//                 display: block;
//                 font-weight: 400;
//                 margin-top: 4px;
//                 overflow: hidden;
//                 text-overflow: ellipsis;
//                 white-space: nowrap;
//                 word-break: break-all;
//               }

//             }

//           }
//         }

//       }

//     }

//   }

//   .discussion-column {
//     flex: 1 1;
//     padding: 0 2rem 1rem;


//     .discussion-post {
//       border: $card-border;
//       box-shadow: 0 4px 12px -2px map_get($grays, "300"), 0 -2px 4px -4px map_get($grays, "300");
//       padding: 2rem;
//     }

//     .post-header-actions,
//     .response-header-actions,
//     .comment-actions-list {
//       display: none;
//     }

//     .post-title {
//       color: $dark;
//       display: flex;
//       font-size: 1.75rem;
//       font-weight: $font-weight-semibold;
//       line-height: 1.4286;
//       margin-bottom: 1.2857em;
//     }

//     .posted-details {
//       font-size: .875rem;
//       font-style: italic;
//       margin: 0;
//       padding: 0 0 1rem;
//     }

//     .add-response {
//       border-bottom: 1px solid map_get($grays, "300");
//       padding: 0 0 2rem;
//       margin: 1.5rem 0 !important;
//     }

//     .response-count {
//       font-weight: $font-weight-semibold;
//     }

//     .responses {
//       margin: 0;
//       padding: 0;
//     }

//     .forum-response {
//       border: $card-border;
//       box-shadow: 0 4px 12px -2px map_get($grays, "300"), 0 -2px 4px -4px map_get($grays, "300");
//       list-style: none;
//       margin: 2rem 0;
//       padding: 2rem;

//       &::before {
//         background: darkcyan;
//         content: "";
//         display: block;
//         height: 4px;
//         margin-bottom: 8px;
//         width: 80px;
//       }
//     }

//     .comments {
//       background-color: map_get($grays, "100");
//       border: 1px solid map_get($grays, "200");
//       margin: 0 0 -1px;
//       padding: 1rem;

//       > li {
//         border-top: 1px solid map_get($grays, "300");
//         list-style: none;
//         margin: 1rem 0 0;
//         padding: 1rem 0 0;

//         &:first-child {
//           border: 0;
//           margin: 0;
//           padding: 0;
//         }

//         .discussion-comment,
//         .wmd-preview-container {
//           font-size: .875em;
//           line-height: 1.8571;
//         }

//       }

//     }

//     .wmd-preview-label {
//       font-weight: $font-weight-semibold;
//       margin: 1rem 0 0.5rem;
//     }

//     .reply-body {
//       font-size: .875em;
//       line-height: 1.8571;
//     }

//     .response-header {
//       border: 0;
//       margin-bottom: 0;
//       padding-bottom: 0;

//       .username {
//         display: inline-block;
//         font-size: 1.375rem;
//         font-weight: 600;
//         line-height: 1.6363;
//         margin: 0 0 .8182em;
//       }

//     }

//   }

//   .post-labels {
//     color: darkcyan;
//     display: flex;
//     font-size: .875em;
//     justify-content: flex-start;
//     line-height: 1.8571;
//     margin-bottom: 2rem;

//     .post-label {
//       align-items: center;
//       background: rgba(0, 139, 139, .65);
//       border: 0;
//       border-radius: 0;
//       color: #fff;
//       display: flex;
//       flex: 0 0 auto;
//       font-size: 12px;
//       font-weight: $font-weight-semibold;
//       letter-spacing: .05em;
//       line-height: 1;
//       margin-right: 1rem;
//       min-width: auto;
//       padding: 8px 8px 10px;
//       position: relative;
//       text-transform: uppercase;

//       ::after {
//         background: transparent;
//         border-bottom: 10px solid transparent;
//         border-right: 20px solid rgba(0, 139, 139, .95);
//         content: "";
//         display: block;
//         height: 10px;
//         left: 0;
//         position: absolute;
//         top: 100%;
//         width: 20px;
//       }

//       > .fa, .fas, .far {
//         margin-right: 8px;
//       }

//     }

//   }

//   .response-display-count {
//     border-top: 1px solid #dee2e6;
//     display: block;
//     font-weight: $font-weight-semibold;
//     margin: 0 !important;
//     padding: 1.5rem 0 2rem;

//   }

//   .discussion-reply-new {
//     border: $card-border;
//     box-shadow: 0 4px 12px -2px map_get($grays, "300"), 0 -2px 4px -4px map_get($grays, "300");
//     padding: 2rem;

//     .add-response {
//       border: 0;
//       padding: 0;
//       margin: 0 0 1.5rem !important;
//     }

//   }

//   .collapse-panel {
//     display: flex !important;
//     flex: 1;
//     flex-direction: column;
//     padding: 0 1rem 1rem;
//   }

//   .forum-nav-browse-menu-wrapper {
//     border-right: 1px double map_get($grays, "300");
//   }

//   .discussion-thread-list-container {
//     border-right: 1px double map_get($grays, "300");
//     box-shadow: 8px 0 8px -8px map_get($grays, "300") inset;
//   }

//   .collapsing {
//     transition: none;
//   }

//   .forum-nav-browse-filter,
//   .forum-nav-refine-bar {
//     background-color: map_get($grays, "100");
//     border: 1px solid map_get($grays, "300");
//     padding: .5rem;

//   }

//   .forum-nav-browse-submenu {
//     padding-bottom: .5rem;
//   }

// }

.forum-nav {
  .btn-groups {
    position: relative;
    top: 4px;

    .btn {
      font-size: 13px;
      padding: 0 .25rem;
    }

    .dropdown-menu {
      padding: 0;
    }

    .dropdown-header,
    .dropdown-item {
      padding: .25rem 1rem;
    }

    .dropdown-toggle::after {
      display: none;
    }

    .forum-nav-browse-filter {
      width: 258px;
    }
  }

}

#content {

  .vert {

    .problems-wrapper {

      .problem-header {

      }

      .problem-progress {
        font-size: .875rem;
        font-style: italic;
        margin: 0;
        padding: 0 0 1rem;
      }

      .problem {
        p, li, blockquote, dd {
          font-size: 1rem;
        }

        .wrapper-problem-response {
        }

        [class*="inputtype"] {
          background-color: map_get($grays, "100");
          border: 1px solid map_get($grays, "200");
          margin: 0 0 -1px;
          padding: 1rem;
        }

        fieldset {
          border: 0;
          margin: 0;
          padding: 0;
        }

        legend,
        .problem-group-label {
          font-size: 1.125rem;
          font-weight: $font-weight-semibold;
          margin: 0;
          padding: 0 0 1rem;
        }

        .question-description {
          font-size: .875rem;
          font-style: italic;
          margin: 0;
          padding: 0 0 1rem;
        }

        label {
          &.list-group-item {
            border-color: map_get($grays, "300");
            background: transparent;
            padding: 0;
          }

          &:hover {
            cursor: pointer;
          }

          &.choicegroup_correct {
            /*
            background: rgba(40, 167, 69, .25);
            border-color: rgba(40, 167, 69, .25);
            */
          }

          &.choicegroup_incorrect {
            /*
            background: rgba(255, 193, 7, .25);
            border-color: rgba(255, 193, 7, .25);
            */
          }

        }

        .field {
          &.custom-control {
            align-items: center;
            display: flex;
            padding: 1rem 1rem 1rem 3rem;

            .custom-control-label {
              &::before {
                border: 2px solid map_get($grays, "600");
                left: -2rem;

              }

              &::after {
                left: -2rem;
              }
            }

          }
        }

        .action {
          align-items: center;
          background-color: map_get($grays, "100");
          border: 1px solid map_get($grays, "200");
          border-top: 0;
          display: flex;
          margin-bottom: 1rem;
          padding: 1rem;

          .submit-attempt-container {
            align-items: center;
            display: flex;
            flex-grow: 1;

            .submission-feedback {
              font-size: .875rem;
              margin-left: 1rem;
            }
          }

          .problem-action-buttons-wrapper {
            align-items: center;
            display: flex;

            .problem-action-button-wrapper {
              margin-left: .25rem;
            }
          }

        }

        .notification {
          align-items: flex-start;
          display: flex;
          font-weight: $font-weight-semibold;
          margin-bottom: 1rem;
          padding: 1rem;

          &.error {
            background: rgba(255, 69, 0, .65);
            color: map_get($grays, "100");
          }

          &.general {
            background: rgba(0, 139, 139, .65);
            color: map_get($grays, "100");
          }

          &.warning {
            background: rgba(255, 215, 0, .65);
          }

          &.is-hidden {
            display: none;
          }

          .fa, .fas, .far, .fal, .fab {
            font-size: 2rem;
            line-height: 1.125;
            margin-right: 1rem;
          }

        }

      }

    }

    .wrap-instructor-info {

    }

  }

}

.btn-sm {
  min-width: 8em;
  padding: .25rem .75rem;

  i {
    margin-right: .5rem;
  }
}

.accordion {
  &.level-0 {
    > .card > .card-header {
      background: map_get($grays, "100");

      padding: 0;

      :first-child {

        &[aria-expanded="false"]::before {
          content: "+";
          left: 12px;
        }

        &[aria-expanded="true"]::before {
          content: "\2012";
          left: 12px;
        }

      }
    }

  }

  &.level-1 {
    margin: calc(-1rem - 1px);

    .card-body {
      padding-top: 0;
    }

  }

  .card-header {
    padding: 0;

    :first-child {
      display: block;
      padding: 0;
      width: 100%;

      .btn {
        font-weight: inherit;
        padding: $font-size-base*.75 $font-size-base*2;
        text-align: left;
        width: 100%;

        &-link {
          color: map_get($grays, "900");

          &:hover {
            text-decoration: none;
          }
        }
      }

      &::before {
        display: block;
        left: 4px;
        position: absolute;
      }

    }
  }

  .card-body {
    padding: $font-size-base;

    .list-group-flush {
      border-top: 1px solid map_get($grays, "300");
      margin-left: $font-size-base;
      padding: 1rem 0;

      .list-group-item {
        border: 0;
        padding-left: 0;
        padding-: 1rem;

        &:hover {
          background: transparent;
        }

        &-action {
          color: $red;
        }

        p {
          font-weight: $font-weight-normal;
        }

      }

    }

  }

}

main.container {
  aside {
    order: -1;

    .list-group-flush {
      .list-group-item {
        border: 0;
        padding-left: 0;
        padding-right: 0;
      }
    }

    h6 {
      font-size: $font-size-base;
      line-height: 21px;
    }
  }
}
